{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/Administrateur/Desktop/Octogames-Squadro-feat-3-prototype-squadro/root/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"C:/Users/Administrateur/Desktop/Octogames-Squadro-feat-3-prototype-squadro/root/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import styled,{keyframes}from'styled-components';import React,{useState,useEffect}from'react';import{ReactComponent as Red}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/Pion Rouge.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PionRouge=function PionRouge(_ref){var x=_ref.x,y=_ref.y,powerGo=_ref.powerGo,powerReturn=_ref.powerReturn,handlePlay=_ref.handlePlay,turn=_ref.turn;var _useState=useState(y),_useState2=_slicedToArray(_useState,2),posY=_useState2[0],setPosY=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),animateSlide=_useState4[0],setAnimateSlide=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),animateRotate=_useState6[0],setAnimateRotate=_useState6[1];var _useState7=useState(powerGo),_useState8=_slicedToArray(_useState7,2),currPower=_useState8[0],setCurrPower=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),distance=_useState10[0],setDistance=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),startAtTheOtherSide=_useState12[0],setStartAtTheOtherSide=_useState12[1];var handleMovement=function handleMovement(e){e.preventDefault();if(turn==='r'){if(currPower!==0){var newPosY=handlePlay(x,posY,currPower);setDistance(newPosY-posY);setPosY(newPosY);}else{console.log('%cPion inactif...','font-style: italic');}}};useEffect(function(){if(y===6){setStartAtTheOtherSide(true);}},[y]);useEffect(function(){if(posY!==0||animateRotate){setAnimateSlide(true);if(posY===0&&animateRotate){var timer=setTimeout(function(){setCurrPower(0);},500);// The duration of the animation defined in the CSS file\nreturn function(){clearTimeout(timer);};}if(posY===6){var _timer=setTimeout(function(){setAnimateSlide(false);setAnimateRotate(true);setCurrPower(powerReturn);},400);// The duration of the animation defined in the CSS file\nreturn function(){clearTimeout(_timer);};}}},[posY]);if(!startAtTheOtherSide){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(StyledRed,{animateSlide:animateSlide,animateRotate:animateRotate,curr:posY,step:distance,onClick:function onClick(e){return handleMovement(e);}})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(StyledRedReversed,{animateSlide:animateSlide,curr:posY,step:powerReturn,onClick:function onClick(e){return handleMovement(e);}})});}};var slideGo=function slideGo(a,b){return keyframes(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    0%{\\n      transform: translateX(\",\"px);\\n    }\\n    100%{\\n      transform: translateX(\",\"px);\\n    }\\n\"])),a,b);};var slideReturn=function slideReturn(a,b){return keyframes(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    0%{\\n      transform: translateX(\",\"px) rotate(180deg);\\n    }\\n    100%{\\n      transform: translateX(\",\"px) rotate(180deg);\\n    }\\n\"])),a,b);};var rotate=keyframes(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  0%{\\n    transform: translateX(calc(6*94px)) rotate(0deg);\\n  }\\n  100%{\\n    transform: translateX(calc(6*94px)) rotate(180deg);\\n  }\\n\"])));var StyledRed=styled(Red)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  animation: \",\" 0.3s ease-in-out forwards, \\n  \",\" 0.3s ease-in-out forwards,\\n  \",\" 0.3s ease-in-out forwards;\\n\"])),function(_ref2){var animateSlide=_ref2.animateSlide,curr=_ref2.curr,step=_ref2.step;return animateSlide?slideGo(curr*94-step*94,curr*94):'';},function(_ref3){var animateSlide=_ref3.animateSlide,animateRotate=_ref3.animateRotate;return animateRotate&&!animateSlide?rotate:'';},function(_ref4){var animateSlide=_ref4.animateSlide,animateRotate=_ref4.animateRotate,curr=_ref4.curr,step=_ref4.step;return animateRotate&&animateSlide?slideReturn(curr*94-step*94,curr*94):'';});var StyledRedReversed=styled(StyledRed)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  transform: translateX(calc(6*94px)) rotate(180deg);\\n  animation: \",\" 0.3s ease-in-out forwards;\\n\"])),function(_ref5){var animateSlide=_ref5.animateSlide,curr=_ref5.curr,step=_ref5.step;return animateSlide?slideReturn(curr*94-step*94,curr*94):'';});export default PionRouge;","map":{"version":3,"sources":["C:/Users/Administrateur/Desktop/Octogames-Squadro-feat-3-prototype-squadro/root/client/src/components/Pion Rouge.jsx"],"names":["styled","keyframes","React","useState","useEffect","PionRouge","x","y","powerGo","powerReturn","handlePlay","turn","posY","setPosY","animateSlide","setAnimateSlide","animateRotate","setAnimateRotate","currPower","setCurrPower","distance","setDistance","startAtTheOtherSide","setStartAtTheOtherSide","handleMovement","e","preventDefault","newPosY","console","log","timer","setTimeout","clearTimeout","slideGo","a","b","slideReturn","rotate","StyledRed","Red","curr","step","StyledRedReversed"],"mappings":"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","sourcesContent":["import styled, { keyframes } from 'styled-components'\nimport React, { useState, useEffect } from 'react'\nimport { ReactComponent as Red } from '../assets/Pion Rouge.svg'\n\nconst PionRouge = ({ x, y, powerGo, powerReturn, handlePlay, turn }) => {\n  const [posY, setPosY] = useState(y)\n  const [animateSlide, setAnimateSlide] = useState(false)\n  const [animateRotate, setAnimateRotate] = useState(false)\n  const [currPower, setCurrPower] = useState(powerGo)\n  const [distance, setDistance] = useState(0)\n  const [startAtTheOtherSide, setStartAtTheOtherSide] = useState(false)\n  const handleMovement = (e) => {\n    e.preventDefault()\n    if (turn === 'r') {\n      if (currPower !== 0) {\n        const newPosY = handlePlay(x, posY, currPower)\n        setDistance(newPosY - posY)\n        setPosY(newPosY)\n      } else {\n        console.log('%cPion inactif...', 'font-style: italic')\n      }\n    }\n  }\n  useEffect(() => {\n    if (y === 6) {\n      setStartAtTheOtherSide(true)\n    }\n  }, [y])\n  useEffect(() => {\n    if (posY !== 0 || animateRotate) {\n      setAnimateSlide(true)\n      if (posY === 0 && animateRotate) {\n        const timer = setTimeout(() => {\n          setCurrPower(0)\n        }, 500) // The duration of the animation defined in the CSS file\n        return () => {\n          clearTimeout(timer)\n        }\n      }\n      if (posY === 6) {\n        const timer = setTimeout(() => {\n          setAnimateSlide(false)\n          setAnimateRotate(true)\n          setCurrPower(powerReturn)\n        }, 400) // The duration of the animation defined in the CSS file\n        return () => {\n          clearTimeout(timer)\n        }\n      }\n    }\n  }, [posY])\n  if (!startAtTheOtherSide) {\n    return (\n      <>\n        <StyledRed animateSlide={animateSlide} animateRotate={animateRotate} curr={posY} step={distance} onClick={(e) => handleMovement(e)} />\n      </>\n    )\n  } else {\n    return (\n      <>\n        <StyledRedReversed animateSlide={animateSlide} curr={posY} step={powerReturn} onClick={(e) => handleMovement(e)} />\n      </>\n    )\n  }\n}\nconst slideGo = (a, b) =>\n  keyframes`\n    0%{\n      transform: translateX(${a}px);\n    }\n    100%{\n      transform: translateX(${b}px);\n    }\n`\nconst slideReturn = (a, b) =>\n  keyframes`\n    0%{\n      transform: translateX(${a}px) rotate(180deg);\n    }\n    100%{\n      transform: translateX(${b}px) rotate(180deg);\n    }\n`\nconst rotate = keyframes`\n  0%{\n    transform: translateX(calc(6*94px)) rotate(0deg);\n  }\n  100%{\n    transform: translateX(calc(6*94px)) rotate(180deg);\n  }\n`\nconst StyledRed = styled(Red)`\n  animation: ${({ animateSlide, curr, step }) => (animateSlide ? slideGo(curr * 94 - step * 94, curr * 94) : '')} 0.3s ease-in-out forwards, \n  ${({ animateSlide, animateRotate }) => (animateRotate && !animateSlide ? rotate : '')} 0.3s ease-in-out forwards,\n  ${({ animateSlide, animateRotate, curr, step }) => (animateRotate && animateSlide ? slideReturn(curr * 94 - step * 94, curr * 94) : '')} 0.3s ease-in-out forwards;\n`\nconst StyledRedReversed = styled(StyledRed)`\n  transform: translateX(calc(6*94px)) rotate(180deg);\n  animation: ${({ animateSlide, curr, step }) => (animateSlide ? slideReturn(curr * 94 - step * 94, curr * 94) : '')} 0.3s ease-in-out forwards;\n`\n\nexport default PionRouge\n"]},"metadata":{},"sourceType":"module"}